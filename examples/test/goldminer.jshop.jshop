; Generated by Hype
(defdomain goldminer(

  ;==============================
  ; Operators
  ;==============================

  (:operator (!move ?agent ?from ?to)
    (
      (at ?agent ?from)
      (adjacent ?from ?to)
      (not (blocked ?to))
    )
    (
      (at ?agent ?from)
    )
    (
      (at ?agent ?to)
    )
  )

  (:operator (!pick ?agent ?gold ?where)
    (
      (at ?agent ?where)
      (on ?gold ?where)
    )
    (
      (on ?gold ?where)
    )
    (
      (has ?agent ?gold)
    )
  )

  (:operator (!drop ?agent ?gold ?where)
    (
      (at ?agent ?where)
    )
    (
      (has ?agent ?gold)
    )
    (
      (on ?gold ?where)
    )
  )

  (:operator (!visit ?agent ?pos)
    nil
    nil
    (
      (visited ?agent ?pos)
    )
  )

  (:operator (!unvisit ?agent ?pos)
    nil
    (
      (visited ?agent ?pos)
    )
    nil
  )

  (:operator (!see ?gold)
    nil
    nil
    (
      (dibs ?gold)
    )
  )

  (:operator (!shift ?agent)
    (
      (next ?agent ?other)
    )
    (
      (duty ?agent)
    )
    (
      (duty ?other)
    )
  )

  ;==============================
  ; Methods
  ;==============================

  (:method (travel ?agent ?to)
    travel_impossible
    (
      (blocked ?to)
    )
    nil
  )

  (:method (travel ?agent ?to)
    travel_base
    (
      (at ?agent ?to)
    )
    nil
  )

  (:method (travel ?agent ?to)
    travel_rail
    (
      (at ?agent ?from)
      (rail ?from ?place)
      (not (at ?agent ?to))
      (not (blocked ?place))
      (not (visited ?agent ?place))
    )
    (
      (!move agent from place)
      (!visit agent from)
      (travel agent to)
      (!unvisit agent from)
    )
  )

  (:method (travel ?agent ?to)
    travel_recursion
    (
      (at ?agent ?from)
      (adjacent ?from ?place)
      (not (at ?agent ?to))
      (not (rail ?from ?place))
      (not (blocked ?place))
      (not (visited ?agent ?place))
    )
    (
      (!move agent from place)
      (!visit agent from)
      (travel agent to)
      (!unvisit agent from)
    )
  )

  (:method (get_gold)
    get_gold_recursion
    (
      (duty ?agent)
      (at ?agent ?agent_pos)
      (on ?gold ?gold_pos)
      (deposit ?deposit_pos)
      (not (has ?agent ?anygold))
      (not (dibs ?gold))
    )
    (
      (!see gold)
      (travel agent gold_pos)
      (!pick agent gold gold_pos)
      (travel agent deposit_pos)
      (!drop agent gold deposit_pos)
      (!shift agent)
      (get_gold )
    )
  )

  (:method (get_gold)
    get_gold_base
    nil
    nil
  )

))